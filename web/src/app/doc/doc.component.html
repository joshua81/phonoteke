<div class="pt-3 row">
  <div class="col-md-auto">
    <p *ngIf="doc.vote != null && doc.milestone" class="vote">
      <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="star" class="vote svg-inline--fa fa-star fa-w-10" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path fill="currentColor" d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"></path></svg>
    </p>
    <p *ngIf="doc.vote != null && !doc.milestone" class="vote">{{doc.vote}}</p>
    <img *ngIf="doc.type == 'album'" class="album rounded" src="{{doc.cover}}"/>
    <img *ngIf="doc.type == 'artist'" class="artist rounded" src="{{doc.cover}}"/>
  </div>
  <!-- album -->
  <div *ngIf="doc.type == 'album'" class="col-md-auto text-white pt-2">
    <h1 [innerHTML]="doc.title"></h1>
    <h2 [innerHTML]="doc.artist"></h2>
    <h3 *ngIf="doc.label != null">{{doc.label + ' | ' + doc.year + ' | ' + doc.genres}}</h3>
    <h3 *ngIf="doc.authors != null">di {{doc.authors}}</h3>
    <a href="{{'https://musicbrainz.org/release-group/' + doc.albumid}}" target="_blank">
      <img class="musicbrainz">
    </a>
  </div>
  <!-- artist -->
  <div *ngIf="doc.type == 'artist'" class="col-md-auto text-white pt-2">
      <h1 [innerHTML]="doc.title"></h1>
      <h3 *ngIf="doc.authors != null">di {{doc.authors}}</h3>
      <a href="{{'https://musicbrainz.org/artist/' + doc.artistid}}" target="_blank">
        <img class="musicbrainz">
      </a>
  </div>
</div>

<p *ngIf="doc.review != null" class="pt-3 text-justify text-white" 
  [innerHTML]="doc.review">
</p>

<div role="tabpanel">
  <ul class="nav nav-pills mb-3" id="tab" role="tablist">
    <li *ngIf="tracks != null" class="nav-item">
      <a class="nav-link active" id="homeTab" data-toggle="pill" [routerLink]="[]" fragment="doc-home" 
      role="tab" aria-controls="home" aria-selected="true">
        Tracks
      </a>
    </li>
    <li *ngIf="links != null" class="nav-item">
      <a class="nav-link" id="profileTab" data-toggle="pill" [routerLink]="[]" fragment="doc-profile" 
      role="tab" aria-controls="profile" aria-selected="false">
        Links
      </a>
    </li>
    <li *ngIf="events != null" class="nav-item">
      <a class="nav-link" id="contactTab" data-toggle="pill" [routerLink]="[]" fragment="doc-contact" 
      role="tab" aria-controls="contact" aria-selected="false">
        Events
      </a>
    </li>
  </ul>
  <div class="tab-content" id="tabContent">
    <div class="tab-pane fade show active" id="doc-home" role="tabpanel" aria-labelledby="homeTab">
      <div class="list-group pt-2">
        <a *ngFor="let track of tracks" href="{{'https://www.youtube.com/watch?v=' + track.youtube}}" target="_blank"
        class="p-1 list-group-item list-group-item-action">
          <div class="d-flex align-items-center">
            <svg class="youtube svg-inline--fa fa-youtube fa-w-18" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="youtube" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path fill="#ff0000" d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"></path></svg>
            <a href="{{'https://musicbrainz.org/release-group/' + track.albumid}}" target="_blank">
              <img class="musicbrainz">
            </a>
            <div class="pl-2 text-truncate" [innerHTML]="track.title"></div>
          </div>
        </a>
      </div>    
    </div>
    <div class="tab-pane fade" id="doc-profile" role="tabpanel" aria-labelledby="profileTab">
      <div class="list-group pt-2">
        <a *ngFor="let link of links" [routerLink]="['/docs/' + link.id]"
        class="p-1 list-group-item list-group-item-action">
          <div class="d-flex align-items-center">
            <img *ngIf="link.type == 'album'" class="albumlink" src="{{link.cover}}">
            <img *ngIf="link.type == 'artist'" class="artistlink" src="{{link.cover}}">
            <div class="pl-2 text-truncate" [innerHTML]="link.title2"></div>
            <p *ngIf="link.vote != null && link.milestone" class="votelink">
              <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="star" class="vote svg-inline--fa fa-star fa-w-10" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path fill="currentColor" d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"></path></svg>
            </p>
            <p *ngIf="link.vote != null && !link.milestone" class="votelink">{{link.vote}}</p>
          </div>
        </a>
      </div>
    </div>
    <div class="tab-pane fade" id="doc-contact" role="tabpanel" aria-labelledby="contactTab">
      <ul class="list-group pt-2">
        <li *ngFor="let event of events" class="p-1 list-group-item">{{event.displayName}} | {{event.location.city}}</li>
      </ul>
    </div>
  </div>
</div>

