<doc-menu *ngIf="doc"></doc-menu>
<div *ngIf="doc" class="container pt-5 w-max">
    <div class="row d-flex justify-content-center" [ngStyle]="{'top':'6px'}">
      <img *ngIf="doc.coverM == null" class="bg-image" [ngStyle]="{'background-image':'url('+doc.cover+')'}"/>
      <img *ngIf="doc.coverM != null" class="bg-image" [ngStyle]="{'background-image':'url('+doc.coverM+')'}"/>
      <div class="cover-m">
        <img *ngIf="doc.coverM == null" class="cover-m" src="{{doc.cover}}"/>
        <img *ngIf="doc.coverM != null" class="cover-m" src="{{doc.coverM}}"/>
        <div *ngIf="doc.type == 'album' && doc.vote && doc.vote == 10" class="vote">
          <span class="star"></span>
        </div>
        <h3 *ngIf="doc.type == 'album' && doc.vote && doc.vote != 10" class="vote">{{doc.vote}}</h3>
      </div>
    </div>

    <div class="row d-flex justify-content-center bg-white">
      <div class="text-center">
        <h1 *ngIf="doc.type != 'artist'" [innerHTML]="doc.title"></h1>
        <h2 *ngIf="doc.type != 'artist'" [innerHTML]="doc.artist"></h2>
        <h1 *ngIf="doc.type == 'artist'" [innerHTML]="doc.artist"></h1>
        <h3 *ngIf="doc.type == 'album' && doc.label">{{doc.label + ' | ' + doc.year + ' | ' + doc.genres}}</h3>
        <h3 *ngIf="doc.authors" class="text-muted">di {{doc.authors}}</h3>
      </div>
    </div>

    <div class="row d-flex align-items-center justify-content-center bg-white">
      <a class="pl-2 pr-2" href="{{doc.url}}" target="_blank">
        <img class="{{doc.source}}">
      </a>
      <a *ngIf="doc.artistid != null" class="pl-2 pr-2" (click)="service.loadEvents(doc.artistid, $event)">
        <img class="songkick">
      </a>
      <a *ngIf="doc.type != 'album' && doc.spartistid" class="pl-2 pr-2" href="{{'https://open.spotify.com/artist/' + doc.spartistid}}" target="_blank">
        <img class="spotify">
      </a>
      <a *ngIf="doc.type == 'album' && doc.spalbumid" class="pl-2 pr-2" href="{{'https://open.spotify.com/album/' + doc.spalbumid}}" target="_blank">
        <img class="spotify">
      </a>
      <div *ngIf="service.audio" class="pl-2 pr-2" (click)="backward($event)">
        <span class="backward"></span>
      </div>
      <div *ngIf="service.audio" class="pl-2 pr-2" (click)="playPause($event)">
        <span *ngIf="service.audio.paused" class="play"></span>
        <span *ngIf="!service.audio.paused" class="pause"></span>
      </div>
      <div *ngIf="service.audio" class="pl-2 pr-2" (click)="forward($event)">
        <span class="forward"></span>
      </div>
    </div>

    <div class="row p-2 bg-white">
      <div *ngIf="doc.review" class="text-justify" [innerHTML]="doc.review"></div>
    </div>

    <app-youtube [tracks]="doc.tracks"></app-youtube>

    <div *ngIf="links && links.length != 0" class="row d-flex justify-content-center pt-3">
      <div *ngFor="let link of links" class="pb-2 pl-1 pr-1">
        <div class="cover-s card mx-auto">
          <a class="cover-s" [routerLink]="['/docs/' + link.id]">
            <img *ngIf="link.coverM == null" class="cover-s card-img-top" src="{{link.cover}}"/>
            <img *ngIf="link.coverM != null" class="cover-s card-img-top" src="{{link.coverM}}"/>
          </a>
          <div class="card-body p-1">
            <div class="card-text font-weight-bold" [innerHTML]="link.title"></div>
            <div class="card-text" [innerHTML]="link.artist"></div>
            <div class="card-footer text-muted p-0">{{link.type.toUpperCase()}}</div>
          </div>
        </div>
      </div>
  </div>
</div>

<app-events *ngIf="service.showEvents == true" [events]="service.events"></app-events>
