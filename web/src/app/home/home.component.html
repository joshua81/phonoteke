<div class="container p-2">
  <div class="wallpaper w-100 text-center">
    <img class="wallpaper" src="{{'https://storage.googleapis.com/humanbeats/' + (source == null ? 'humanbeats' : source) + '-wp.jpg'}}"/>
    
    <div *ngIf="source != null" class="back d-flex flex-row justify-content-center align-items-center" (click)="app.back()">
      <span class="previous"></span>
    </div>
    
    <div *ngIf="source != null" class="title text-left"><h1 class="text-white">{{name}}</h1></div>

    <!-- menu -->
    <div class="menu d-flex flex-row justify-content-center w-100">
      <div *ngIf="source == null && shows.length > 0" class="menu-item" [ngClass]="{'selected': status == 'shows'}" (click)="setStatus('shows')">
        <h3 class="pl-2 pr-2 text-white">Shows</h3>
      </div>
      <div *ngIf="source != null && episodes.length > 0" class="menu-item" [ngClass]="{'selected': status == 'episodes'}" (click)="setStatus('episodes')">
        <h3 class="pl-2 pr-2 text-white">Episodes</h3>
      </div>
      <div *ngIf="albums.length > 0" class="menu-item" [ngClass]="{'selected': status == 'albums'}" (click)="setStatus('albums')">
        <h3 class="pl-2 pr-2 text-white">Albums</h3>
      </div>
      <div *ngIf="tracks.length > 0" class="menu-item" [ngClass]="{'selected': status == 'tracks'}" (click)="setStatus('tracks')">
        <h3 class="pl-2 pr-2 text-white">Tracks</h3>
      </div>
      <div *ngIf="videos.length > 0" class="menu-item" [ngClass]="{'selected': status == 'videos'}" (click)="setStatus('videos')">
        <h3 class="pl-2 pr-2 text-white">Videos</h3>
      </div>
    </div>
  </div>

  <!-- albums -->
  <div *ngIf="status=='albums'" class="d-flex flex-wrap justify-content-center w-100 pt-2">
    <div *ngFor="let album of albums" class="album">
      <a *ngIf="!app.isDesktop" href="{{'https://open.spotify.com/album/' + album.spalbumid}}" target="_blank">
        <img class="album" src="{{album.cover}}" loading="lazy"/>
        <span class="play"></span>
      </a>
      <div *ngIf="app.isDesktop" (click)="app.playPauseSpotify(album.spalbumid, 'album')">
        <img class="album" src="{{album.cover}}" loading="lazy"/>
        <span class="play"></span>
      </div>
      <div class="text-truncate-1 font-weight-bold">{{album.album}}</div>
      <div class="text-truncate-1">{{album.artist}}</div>
    </div>
  </div>

  <!-- videos -->
  <div *ngIf="status=='videos'" class="d-flex flex-column justify-content-center w-100 pt-2">
    <div *ngFor="let video of videos" class="mt-1 mb-1">
      <div class="d-flex flex-row align-items-center m-0">
        <div class="video" (click)="app.playYoutube(video.youtube)">
          <img class="video" src="{{'https://img.youtube.com/vi/' + video.youtube + '/mqdefault.jpg'}}" loading="lazy"/>
          <span class="youtube"></span>
        </div>
        <div class="w-100 ml-2 mr-2">
          <div class="text-truncate-1">{{video.track + ' | '}}<span class="font-weight-bold">{{video.album}}</span></div>
          <div class="text-truncate-1">{{video.artist}}</div>
        </div>
      </div>
    </div>
  </div>

  <!-- tracks -->
  <div *ngIf="status=='tracks'" class="w-100 mt-3">
    <div class="d-flex flex-row justify-content-center align-items-center">
      <a *ngIf="spalbumid" class="spotify" href="{{'https://open.spotify.com/playlist/' + spalbumid}}" target="_blank">
        <span class="spotify"></span>
      </a>
    </div>
    <app-tracks [tracks]="tracks" [spalbumid]="spalbumid"></app-tracks>
  </div>

  <!-- episodes -->
  <app-podcasts *ngIf="status=='episodes'" [source]="source" [docs]="episodes"></app-podcasts>

  <!-- shows -->
  <div *ngIf="status=='shows'" class="d-flex flex-wrap justify-content-center w-100 pt-2">
    <div *ngFor="let show of shows">
      <div class="album">
        <a [routerLink]="['/' + show.source]">
          <img class="album" src="{{show.cover}}" loading="lazy"/>
          <h2 class="font-weight-normal text-white">{{show.name}}</h2>
        </a>
        <div *ngIf="app.gtYesterday(show.lastEpisodeDate)" class="yesterday"></div>
      </div>
    </div>
  </div>
</div>

<!-- footer -->
<app-footer></app-footer>
